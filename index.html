<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>List sort</title>
    <script>
            function listSort(ul){
                var copy_ul = ul.cloneNode(false);
                let tmp =[];
                for (var node of ul.childNodes) {
                    for (var t of node.childNodes) {
                        if(t.nodeName === 'UL'){
                            //alert("rec");
                            listSort(t);
                        }
                    }
                    if(node.nodeName === 'LI')
                        tmp.push(node);
                }
                tmp.sort(function(a,b){
                    var textA = a.innerText;
                    var textB = b.innerText;
                    if(textA < textB) return -1;
                    if(textA > textB) return 1;
                    return 0;
                });
    
                for(var i =0; i < tmp.length; i++){
                    //alert(tmp[i].innerText);
                    copy_ul.appendChild(tmp[i]);
                }
                ul.parentNode.replaceChild(copy_ul, ul);
            }
        </script>
</head>
<body>
    <ul onclick="listSort(this)">
    <li>desert</li>
    <li>arc</li>
    <li>iron</li>
    <li>veg
        <ul>
        <li>tomato</li>
        <li>apple
            <ul>
            <li>red</li>
            <li>green</li>
            </ul></li>
        </ul></li>
    <li>ban</li>
    </ul>

   
</body>

</html>